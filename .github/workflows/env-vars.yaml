name: Environment Variables
on: [push]

env: 
  WF_LEVEL_ENV: Available to all jobs

jobs:
  env-vars-and-context:
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/my-test-branch'
    env: 
        JOB_LEVEL_ENV: Available to all steps in env-vars-and-context
    steps:
      - name: Log ENV Var
        run: echo $GITHUB_REF
      - name: Log Context 
        run: echo '${{github.ref}}'
      - name: Log Custom env 
        env: 
          STEP_LEVEL_ENV: Available to only this step 
          WF_LEVEL_ENV: Overidden in step
        run: |
          echo '${{ env.STEP_LEVEL_ENV}}'
          echo $STEP_LEVEL_ENV
          echo $WF_LEVEL_ENV
          echo $JOB_LEVEL_ENV